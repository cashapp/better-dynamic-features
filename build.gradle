plugins {
  alias(libs.plugins.spotless)
}

spotless {
  kotlin {
    target "**/*.kt"
    targetExclude "gradle-plugin/src/test/fixtures/**/*.*", "gradle-plugin/src/main/kotlin/com/android/build/gradle/internal/**/*.*"
    ktlint(libs.versions.ktlint.get()).editorConfigOverride([
      "indent_size"                                : "2",
      "disabled_rules"                             : "package-name",
      "ij_kotlin_allow_trailing_comma"             : "true",
      "ij_kotlin_allow_trailing_comma_on_call_site": "true",
    ])
    trimTrailingWhitespace()
    endWithNewline()
  }
}
